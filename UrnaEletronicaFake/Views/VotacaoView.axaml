<UserControl xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:vm="using:UrnaEletronicaFake.ViewModels"
             mc:Ignorable="d" d:DesignWidth="1024" d:DesignHeight="600"
             x:Class="UrnaEletronicaFake.Views.VotacaoView"
             x:DataType="vm:VotacaoViewModel"
             Background="#e5e7eb">

    <UserControl.Styles>
        <Style Selector="Border.digit-box">
            <Setter Property="BorderBrush" Value="Black"/>
            <Setter Property="BorderThickness" Value="2"/>
            <Setter Property="Width" Value="50"/>
            <Setter Property="Height" Value="60"/>
            <Setter Property="HorizontalAlignment" Value="Center"/>
            <Setter Property="VerticalAlignment" Value="Center"/>
        </Style>
        <Style Selector="TextBlock.digit-text">
            <Setter Property="FontSize" Value="48"/>
            <Setter Property="FontWeight" Value="Bold"/>
            <Setter Property="HorizontalAlignment" Value="Center"/>
            <Setter Property="VerticalAlignment" Value="Center"/>
        </Style>
        <Style Selector="Button.keypad-button">
            <Setter Property="Background" Value="#262626"/>
            <Setter Property="Foreground" Value="White"/>
            <Setter Property="FontSize" Value="24"/>
            <Setter Property="FontWeight" Value="Bold"/>
            <Setter Property="Height" Value="55"/>
            <Setter Property="Width" Value="80"/>
            <Setter Property="CornerRadius" Value="4"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="Margin" Value="5"/>
        </Style>
        <Style Selector="Button.keypad-button:pointerover">
            <Setter Property="Background" Value="#404040"/>
        </Style>
    </UserControl.Styles>

    <Grid>
        <StackPanel Orientation="Horizontal" HorizontalAlignment="Right" Margin="0,10,20,0" VerticalAlignment="Top" ZIndex="10">
            <Button Content="{Binding TextoBotaoUrna}"
                    Command="{Binding AlternarUrnaCommand}"
                    Background="#16a34a"
                    Foreground="White"
                    FontWeight="Bold"
                    Padding="16,6"
                    CornerRadius="6"
                    Margin="0,0,0,10"/>
        </StackPanel>
        <Grid ColumnDefinitions="*, Auto" Margin="20">
            <Border Grid.Column="0" 
                    Background="White" 
                    CornerRadius="8" 
                    BorderBrush="#9ca3af" 
                    BorderThickness="2"
                    Padding="20">
                <Grid RowDefinitions="Auto, *, Auto">
                    <Grid Grid.Row="1" ColumnDefinitions="Auto, *" VerticalAlignment="Center">
                        <StackPanel Grid.Column="0" Spacing="20" VerticalAlignment="Center" Margin="0,0,40,0">
                            <TextBlock Text="SEU VOTO PARA" FontSize="18"/>
                            <TextBlock Text="{Binding Cargo}" FontSize="32" FontWeight="Bold"/>
                            <StackPanel Orientation="Horizontal" Spacing="8">
                                <TextBlock Text="Número:" FontSize="18" VerticalAlignment="Center"/>
                                <Border Classes="digit-box"><TextBlock Classes="digit-text" Text="{Binding Digito1}"/></Border>
                                <Border Classes="digit-box"><TextBlock Classes="digit-text" Text="{Binding Digito2}"/></Border>
                                <Border Classes="digit-box"><TextBlock Classes="digit-text" Text="{Binding Digito3}"/></Border>
                                <Border Classes="digit-box"><TextBlock Classes="digit-text" Text="{Binding Digito4}"/></Border>
                                <Border Classes="digit-box"><TextBlock Classes="digit-text" Text="{Binding Digito5}"/></Border>
                            </StackPanel>
                            <StackPanel IsVisible="{Binding IsTelaCandidatoVisible}">
                                <TextBlock Text="Nome:" FontSize="18"/>
                                <TextBlock Text="{Binding NomeCandidato}" FontSize="24" FontWeight="Bold"/>
                                <TextBlock Text="Partido:" FontSize="18" Margin="0,10,0,0"/>
                                <TextBlock Text="{Binding PartidoCandidato}" FontSize="24" FontWeight="Bold"/>
                            </StackPanel>
                        </StackPanel>
                        <Border Grid.Column="1"
                                BorderBrush="Black"
                                BorderThickness="2"
                                Width="200"
                                Height="280"
                                IsVisible="{Binding IsTelaCandidatoVisible}">
                            <Image Source="{Binding FotoCandidato, TargetNullValue={x:Null}}" Stretch="UniformToFill"/>
                        </Border>
                    </Grid>
                    <Border Grid.Row="2" BorderBrush="Black" BorderThickness="2,0,0,0" Padding="10">
                        <TextBlock Text="{Binding Instrucoes}" 
                                   TextWrapping="Wrap" 
                                   FontSize="16"/>
                    </Border>
                </Grid>
            </Border>

            <Border Grid.Column="1" 
                    Background="#404040" 
                    CornerRadius="8" 
                    Padding="20"
                    Margin="20,0,0,0">
                <StackPanel Spacing="15">
                    <Border Background="White" Padding="10,5">
                        <TextBlock Text="JUSTIÇA ELEITORAL" 
                                   FontSize="18" 
                                   FontWeight="Bold"
                                   HorizontalAlignment="Center"/>
                    </Border>

                    <Grid ColumnDefinitions="Auto,Auto,Auto" RowDefinitions="Auto,Auto,Auto,Auto">
                        <Button Grid.Row="0" Grid.Column="0" Content="1" Classes="keypad-button" Command="{Binding DigitarNumeroCommand}" CommandParameter="1"/>
                        <Button Grid.Row="0" Grid.Column="1" Content="2" Classes="keypad-button" Command="{Binding DigitarNumeroCommand}" CommandParameter="2"/>
                        <Button Grid.Row="0" Grid.Column="2" Content="3" Classes="keypad-button" Command="{Binding DigitarNumeroCommand}" CommandParameter="3"/>
                        <Button Grid.Row="1" Grid.Column="0" Content="4" Classes="keypad-button" Command="{Binding DigitarNumeroCommand}" CommandParameter="4"/>
                        <Button Grid.Row="1" Grid.Column="1" Content="5" Classes="keypad-button" Command="{Binding DigitarNumeroCommand}" CommandParameter="5"/>
                        <Button Grid.Row="1" Grid.Column="2" Content="6" Classes="keypad-button" Command="{Binding DigitarNumeroCommand}" CommandParameter="6"/>
                        <Button Grid.Row="2" Grid.Column="0" Content="7" Classes="keypad-button" Command="{Binding DigitarNumeroCommand}" CommandParameter="7"/>
                        <Button Grid.Row="2" Grid.Column="1" Content="8" Classes="keypad-button" Command="{Binding DigitarNumeroCommand}" CommandParameter="8"/>
                        <Button Grid.Row="2" Grid.Column="2" Content="9" Classes="keypad-button" Command="{Binding DigitarNumeroCommand}" CommandParameter="9"/>
                        <Button Grid.Row="3" Grid.Column="1" Content="0" Classes="keypad-button" Command="{Binding DigitarNumeroCommand}" CommandParameter="0"/>
                    </Grid>

                    <Grid ColumnDefinitions="Auto,Auto,Auto">
                        <Button Grid.Column="0" Content="BRANCO" Background="White" Foreground="Black" FontWeight="Bold" Height="50" Width="85" CornerRadius="4" Command="{Binding VotarBrancoCommand}" Margin="5,0,5,0"/>
                        <Button Grid.Column="1" Content="CORRIGE" Background="#f97316" Foreground="White" FontWeight="Bold" Height="50" Width="85" CornerRadius="4" Command="{Binding CorrigirCommand}" Margin="5,0,5,0"/>
                        <Button Grid.Column="2" Content="CONFIRMA" Background="#16a34a" Foreground="White" FontWeight="Bold" Height="60" Width="95" CornerRadius="4" Command="{Binding ConfirmarCommand}" Margin="5,0,5,0"/>
                    </Grid>
                </StackPanel>
            </Border>
        </Grid>
        <Border Background="#A0000000" IsVisible="{Binding IsTerminalLocked}">
            <TextBlock Text="URNA BLOQUEADA"
                       FontSize="48"
                       FontWeight="Bold"
                       Foreground="White"
                       HorizontalAlignment="Center"
                       VerticalAlignment="Center"/>
        </Border>
        <Border Background="White" IsVisible="{Binding IsTelaFimVisible}">
            <TextBlock Text="FIM"
                       FontSize="120"
                       FontWeight="ExtraBold"
                       Foreground="Black"
                       HorizontalAlignment="Center"
                       VerticalAlignment="Center"/>
        </Border>
    </Grid>
</UserControl> 